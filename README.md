# Домашнее задание к занятию "`«Уязвимости и атаки на информационные системы»`" - `Алексей Дьяконов`


### Задание 1. 

`Обнаруженные сетевые службы:`

  1. ftp (21/tcp, 2121/tcp)
  2. ssh (22/tcp)
  3. telnet (23/tcp)
  4. smtp (25/tcp)
  5. dns (53/tcp)
  6. web-server (80/tcp, 8180/tcp, 8009/tcp - коннектор для Apache Tomcat )
  7. rcpbind (111/tcp)
  8. smb (139/tcp, 445/tcp)
  9. exec(удаленная оболочка 512/tcp, 513/tcp, 514/tcp)
  10. rmi(удаленный интерйейс java 1099/tcp)
  11. shell (удаленный shell через nc 1524/tcp)
  12. nfs (2049/tcp)
  13. mysql (3306/tcp)
  14. postgresql (5432/tcp)
  15. vnc (виртуальный удаленный рабочий стол 5900/tcp)
  16. irc (мессенджер 6667/tcp)
  17. x11 (6000/tcp)

`Уязвимости:`

 1. `vsftpd 2.3.4` https://www.exploit-db.com/exploits/49757
 2. `MySQL 5.0.51` https://www.exploit-db.com/exploits/29724
 3. `Postgresql 8.3.0` https://www.exploit-db.com/exploits/7855


### Задание 2.

 1. `При SYN-сканировании(nmap -sS) (полуоткрытое сканирование) nmap формирует пакеты, содержащие  TCP FLAG 0X002 (SYN), а в ответ получает пакеты либо пакет с FLAG 0x014 (RST,ACK) - порт закрыт, либо TCP FLAG 0X012 (SYN,ACK). В итоге все открывшиеся соединения закрыты пакетами с FLAG 0x004 (RST). Так же порт может быть помеченным отфильтрованным, если нет ответа от нескольких повторных передач или получена ошибка недоступности ICMP.`

 2. ` При FIN-сканировании(nmap -sF) nmap формирует пакеты, содержащие TCP FLAG 0x001 (FIN). В ответ получает пакеты с FLAG 0x014 (RST,ACK), что означает -  порт закрыт. Соответственно, если пакет в ответ не получен, то порт или открыт или фильтруется`

 3. `При Xmas-сканировании(nmap -sX) nmap формирует пакеты, содержащие TCP FLAG 0x029 (FIN, PSH,URG). Флаг PUSH (PSH) уведомляет принимающую сторону о необходимости обработки сообщения вместо буферизации. Флаг URG сообщает о необходимости обработки обработки срочных пакетов перед обработкой других. В ответ получает пакеты с FLAG 0x014 (RST,ACK) - порт закрыт. Если пакет не пришел - порт в статусе open|filtered. Так же порт может быть помеченным отфильтрованным, если получена ошибка недоступности ICMP.`

 4. `При UDP-сканировании (nmap -sU) nmap формирует udp-пакеты. В ответ получает ICMP Type 3 (destination unreachable) Code 3 (port unreachable)  - порт закрыт или фильтруется. В случае любого другого ответа - порт открыт. ( в моем случае были пакеты с SMB (помеченные протоколом browser?)(138), nfs(2049), portmap(111), netbios(137), DNS(53)). Ещё 2 порта (69 и 998)оказались в статусе open|filtered. Это означает, что ответа нет, несмотря на повторные запросы. Есть еще вариант с filtered  - если получены ICMP с другими кодами. Оказалось самым долгим - заняло 1077, 35 сек. `